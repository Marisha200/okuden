<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Caja Reiki - Reiki Nivel II</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: #f3e8ff; }
        .main-gradient { background-image: linear-gradient(135deg, #a855f7, #6366f1); }
        #scrollTopBtn { transition: opacity 0.3s, transform 0.3s; }
        .box-illustration {
            position: relative;
            width: 300px;
            height: 250px;
            margin: auto;
            perspective: 800px; /* Added for 3D effect */
        }
        .box-base {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            height: 60%;
            background-color: #d2b48c; /* Default: wood */
            border: 3px solid #8c6d46;
            border-top: none;
            border-radius: 0 0 10px 10px;
        }
        .box-lid {
            position: absolute;
            top: 17%; /* Adjusted position */
            left: 50%;
            transform-origin: bottom center; /* Changed for realistic hinge */
            width: 102%;
            height: 45%;
            background-color: #d2b48c;
            border: 3px solid #8c6d46;
            border-radius: 10px;
            transition: transform 0.6s ease-in-out;
            transform: translateX(-50%); 
        }
        .box-illustration.open .box-lid {
            transform: translateX(-50%) rotateX(-140deg); /* Changed for 3D rotation */
        }
        .symbol-draggable {
            cursor: grab;
            transition: transform 0.2s;
        }
        .symbol-draggable:active {
            cursor: grabbing;
            transform: scale(1.2);
            z-index: 10;
        }
        .intention-paper {
            position: absolute;
            background-color: #fffacd;
            border: 1px solid #eee;
            padding: 2px 4px;
            font-size: 10px;
            border-radius: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80px;
            animation: fall-in 1s ease-out forwards;
        }
        @keyframes fall-in {
            from { opacity: 0; transform: translateY(-100px) rotate(0deg); }
            to { opacity: 1; transform: translateY(0) rotate(var(--rotation)); }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header Section -->
    <header class="main-gradient text-white text-center py-12 sm:py-16 shadow-lg">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight">La Caja Reiki</h1>
            <p class="mt-4 text-lg sm:text-xl font-light">Tu herramienta personal de manifestaci칩n</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">
        <!-- Back Button -->
        <div class="mb-12">
            <a href="index.html" class="inline-flex items-center text-purple-700 hover:text-purple-900 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                Volver al Inicio
            </a>
        </div>

        <!-- Interactive Creation Guide -->
        <section class="bg-white rounded-2xl shadow-xl p-8">
            <h2 class="text-3xl font-bold text-purple-800 mb-8 text-center">Crea y Activa tu Caja Reiki</h2>
            
            <div class="max-w-4xl mx-auto">
                <!-- Step 1: Choose your box -->
                <div class="mb-12 text-center">
                    <h3 class="text-2xl font-semibold mb-2">Paso 1: Elige tu Caja</h3>
                    <p class="text-gray-600 mb-4">Puede ser de cualquier material. 춰Lo importante es que resuene contigo!</p>
                    <div class="flex justify-center space-x-4">
                        <button class="box-choice p-3 rounded-lg border-2 border-purple-500" data-color="#d2b48c" data-border="#8c6d46">Madera</button>
                        <button class="box-choice p-3 rounded-lg border-2" data-color="#e0e0e0" data-border="#a0a0a0">Cart칩n</button>
                        <button class="box-choice p-3 rounded-lg border-2" data-color="#c0c0c0" data-border="#808080">Metal</button>
                    </div>
                </div>

                <!-- Step 2 & 3: Symbols and Intentions -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-12">
                    <div class="text-center">
                        <h3 class="text-2xl font-semibold mb-2">Paso 2: Consagra tu Caja</h3>
                        <p class="text-gray-600 mb-4">Dibuja los 3 s칤mbolos de tu pu침o y letra en el interior. Arr치stralos a la caja para practicar.</p>
                        <div class="flex justify-center space-x-4">
                            <img src="chokurei.png" class="symbol-draggable h-12" alt="Cho Ku Rei">
                            <img src="seiheki.png" class="symbol-draggable h-12" alt="Sei He Ki">
                            <img src="honshazeshonen.png" class="symbol-draggable h-12" alt="Hon Sha Ze Sho Nen">
                        </div>
                    </div>
                    <div class="box-illustration open">
                        <div class="box-lid"></div>
                        <div class="box-base" id="box-interior"></div>
                    </div>
                </div>
                
                <div class="text-center mb-12">
                    <h3 class="text-2xl font-semibold mb-2">Paso 3: A침ade tus Intenciones</h3>
                    <p class="text-gray-600 mb-4">Escribe tus deseos, metas o personas a las que quieres enviar luz.</p>
                    <div class="flex flex-col sm:flex-row gap-2 max-w-lg mx-auto">
                        <input type="text" id="intention-input" class="flex-grow p-3 border border-gray-300 rounded-lg" placeholder="Ej: Armon칤a en mi hogar...">
                        <button id="add-intention-btn" class="bg-purple-600 text-white font-bold py-3 px-6 rounded-lg">A침adir a la Caja</button>
                    </div>
                </div>

                <!-- Step 4: Activation -->
                <div class="text-center">
                    <h3 class="text-2xl font-semibold mb-2">Paso 4: Activa con Reiki</h3>
                    <p class="text-gray-600 mb-6">Diariamente, o cada 2-3 d칤as, cierra tu caja y env칤ale Reiki con tus manos para potenciar todas las intenciones que contiene.</p>
                    <div class="flex justify-center">
                        <div class="relative">
                             <div class="box-illustration" id="closed-box">
                                <div class="box-lid"></div>
                                <div class="box-base"></div>
                            </div>
                            <p class="text-3xl absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0" id="activation-hands">游뗿</p>
                        </div>
                    </div>
                     <button id="activate-btn" class="mt-4 bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg">Activar con Reiki</button>
                </div>
            </div>
        </section>
        
        <!-- Intention + Action Section -->
        <section class="mt-12 bg-green-100 border-l-4 border-green-500 text-green-800 p-6 rounded-lg shadow-md">
            <h3 class="font-bold text-xl mb-2">La F칩rmula M치gica: Intenci칩n + Acci칩n</h3>
            <p class="text-base">Tu Caja Reiki es un poderoso amplificador energ칠tico, pero recuerda que la manifestaci칩n ocurre cuando alineas tu energ칤a con acciones concretas en el mundo real. Si pides un nuevo trabajo, env칤a curr칤culums. Si pides sanaci칩n, consulta a un profesional. 춰La energ칤a de Reiki acompa침a y potencia tus pasos!</p>
        </section>

    </main>

    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" class="hidden fixed bottom-5 right-5 bg-purple-600 text-white rounded-full p-3 shadow-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transform hover:scale-110 transition-all duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" /></svg>
    </button>

    <footer class="text-center py-8 px-4 mt-8">
        <p class="text-gray-500">&copy; 2024 Tu Rinc칩n Zen. Creado con amor.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Scroll to Top Button Logic ---
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        window.onscroll = () => { scrollTopBtn.classList.toggle('hidden', document.body.scrollTop < 100 && document.documentElement.scrollTop < 100); };
        scrollTopBtn.onclick = () => { window.scrollTo({ top: 0, behavior: 'smooth' }); };

        // --- Box Creation Logic ---
        const boxChoices = document.querySelectorAll('.box-choice');
        const boxInterior = document.getElementById('box-interior');
        const addIntentionBtn = document.getElementById('add-intention-btn');
        const intentionInput = document.getElementById('intention-input');
        const activateBtn = document.getElementById('activate-btn');
        const activationHands = document.getElementById('activation-hands');
        const closedBox = document.getElementById('closed-box');

        boxChoices.forEach(button => {
            button.addEventListener('click', () => {
                const color = button.dataset.color;
                const border = button.dataset.border;
                document.querySelectorAll('.box-base, .box-lid').forEach(el => {
                    el.style.backgroundColor = color;
                    el.style.borderColor = border;
                });
                boxChoices.forEach(btn => btn.classList.remove('border-purple-500'));
                button.classList.add('border-purple-500');
            });
        });

        addIntentionBtn.addEventListener('click', () => {
            const text = intentionInput.value.trim();
            if (text === '') return;

            const paper = document.createElement('div');
            paper.className = 'intention-paper';
            paper.textContent = text;
            
            const randomX = Math.random() * 60 + 10; // 10% to 70%
            const randomY = Math.random() * 40 + 50; // 50% to 90%
            const randomRot = Math.random() * 40 - 20; // -20deg to 20deg
            
            paper.style.left = `${randomX}%`;
            paper.style.top = `${randomY}%`;
            paper.style.setProperty('--rotation', `${randomRot}deg`);

            boxInterior.appendChild(paper);
            intentionInput.value = '';
        });
        
        activateBtn.addEventListener('click', () => {
            closedBox.classList.remove('open');
            activationHands.animate([
                { opacity: 1, transform: 'translate(-50%, -50%) scale(1.5)' },
                { opacity: 0, transform: 'translate(-50%, -50%) scale(1)' }
            ], {
                duration: 2000,
                easing: 'ease-in-out'
            });
        });

    });
    </script>
</body>
</html>
