<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dojo Interactivo - Reiki Nivel II</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: #f3e8ff; }
        .main-gradient { background-image: linear-gradient(135deg, #a855f7, #6366f1); }
        #scrollTopBtn { transition: opacity 0.3s, transform 0.3s; }
        .drop-zone { border: 2px dashed #cbd5e1; transition: background-color 0.3s, border-color 0.3s; }
        .drop-zone.over { background-color: #e9d5ff; border-color: #a855f7; }
        .symbol-piece { cursor: grab; }
        .quiz-option, .tf-option { transition: background-color 0.3s; }
    </style>
</head>
<body class="text-gray-800">

    <header class="main-gradient text-white text-center py-12 sm:py-16 shadow-lg">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight">Dojo Interactivo</h1>
            <p class="mt-4 text-lg sm:text-xl font-light">Pon a prueba tu conocimiento</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">
        <div class="mb-12">
            <a href="index.html" class="inline-flex items-center text-purple-700 hover:text-purple-900 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                Volver al Inicio
            </a>
        </div>

        <!-- Game 1: True or False -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Verdadero o Falso</h2>
            <div class="space-y-6 max-w-3xl mx-auto">
                <!-- Question 1 -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <p class="text-lg font-semibold mb-4">"La Caja Reiki es una técnica tradicional japonesa enseñada por Mikao Usui."</p>
                    <div class="flex space-x-4">
                        <button class="tf-option w-full p-3 font-bold rounded-lg border" data-correct="true">Falso</button>
                        <button class="tf-option w-full p-3 font-bold rounded-lg border" data-correct="false">Verdadero</button>
                    </div>
                </div>
                <!-- Question 2 -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <p class="text-lg font-semibold mb-4">"Se necesita permiso para enviar Reiki a distancia a alguien que no lo ha pedido."</p>
                    <div class="flex space-x-4">
                        <button class="tf-option w-full p-3 font-bold rounded-lg border" data-correct="false">Falso</button>
                        <button class="tf-option w-full p-3 font-bold rounded-lg border" data-correct="true">Verdadero</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game 2: Drag and Drop -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Asocia los Símbolos</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="space-y-4" id="drop-container">
                    <div class="bg-white p-4 rounded-lg shadow-md drop-zone" data-concept="Poder (Físico)">
                        <h3 class="font-bold text-lg">Función: Poder (Físico)</h3>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-md drop-zone" data-concept="Armonía (Emocional)">
                        <h3 class="font-bold text-lg">Función: Armonía (Emocional)</h3>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-md drop-zone" data-concept="Conexión (Distancia)">
                        <h3 class="font-bold text-lg">Función: Conexión (Distancia)</h3>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md flex justify-around items-center" id="symbol-container">
                    <img src="ckr.png" class="h-16 symbol-piece" draggable="true" data-symbol="Poder (Físico)">
                    <img src="shk.png" class="h-16 symbol-piece" draggable="true" data-symbol="Armonía (Emocional)">
                    <img src="hszsn.png" class="h-16 symbol-piece" draggable="true" data-symbol="Conexión (Distancia)">
                </div>
            </div>
        </section>

        <!-- Game 3: Multiple Choice -->
        <section>
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Multiple Choice</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8 max-w-3xl mx-auto">
                <div id="quiz-container">
                    <!-- Questions will be injected by JS -->
                </div>
                <div id="quiz-result" class="hidden text-center"></div>
            </div>
        </section>

    </main>

    <button id="scrollTopBtn" class="hidden fixed bottom-5 right-5 bg-purple-600 text-white rounded-full p-3 shadow-lg hover:bg-purple-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" /></svg>
    </button>

    <footer class="text-center py-8 px-4 mt-8">
        <p class="text-gray-500">&copy; 2024 Tu Rincón Zen. Creado con amor.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Scroll to Top Button Logic ---
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        window.onscroll = () => { scrollTopBtn.classList.toggle('hidden', document.body.scrollTop < 100 && document.documentElement.scrollTop < 100); };
        scrollTopBtn.onclick = () => { window.scrollTo({ top: 0, behavior: 'smooth' }); };

        // --- True or False Logic ---
        document.querySelectorAll('.tf-option').forEach(button => {
            button.addEventListener('click', (e) => {
                const isCorrect = e.target.dataset.correct === 'true';
                const parent = e.target.parentElement;
                parent.querySelectorAll('.tf-option').forEach(btn => btn.disabled = true);
                if (isCorrect) {
                    e.target.classList.add('bg-green-200', 'border-green-400');
                } else {
                    e.target.classList.add('bg-red-200', 'border-red-400');
                    parent.querySelector('[data-correct="true"]').classList.add('bg-green-200', 'border-green-400');
                }
            });
        });

        // --- Drag and Drop Logic ---
        const symbols = document.querySelectorAll('.symbol-piece');
        const dropZones = document.querySelectorAll('.drop-zone');
        symbols.forEach(symbol => {
            symbol.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', e.dataset.symbol));
        });
        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => { e.preventDefault(); zone.classList.add('over'); });
            zone.addEventListener('dragleave', () => zone.classList.remove('over'));
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('over');
                const droppedSymbolConcept = e.dataTransfer.getData('text/plain');
                if (zone.dataset.concept === droppedSymbolConcept) {
                    const symbolImg = document.querySelector(`[data-symbol="${droppedSymbolConcept}"]`);
                    if (symbolImg) {
                        zone.appendChild(symbolImg);
                        zone.classList.add('border-green-500', 'bg-green-100');
                    }
                } else {
                    zone.classList.add('border-red-500', 'bg-red-100');
                    setTimeout(() => zone.classList.remove('border-red-500', 'bg-red-100'), 1000);
                }
            });
        });

        // --- Multiple Choice Quiz Logic ---
        const quizContainer = document.getElementById('quiz-container');
        const quizResult = document.getElementById('quiz-result');
        const questions = [
            { question: "¿Qué símbolo se utiliza para la sanación emocional y mental?", options: ["Cho Ku Rei", "Sei He Ki", "Hon Sha Ze Sho Nen"], answer: "Sei He Ki" },
            { question: "El envío de Reiki a distancia es una característica principal del nivel...", options: ["Shoden (Nivel I)", "Okuden (Nivel II)", "Shinpiden (Nivel III)"], answer: "Okuden (Nivel II)" },
            { question: "¿Qué significa 'Tanden Chiryo Ho'?", options: ["Sanación de la sangre", "Sanación del corazón", "Método de sanación del Tanden"], answer: "Método de sanación del Tanden" },
            { question: "Para manifestar un proyecto, además de enviarle Reiki, es importante...", options: ["Solo visualizar", "Tomar acción en el plano físico", "Esperar pasivamente"], answer: "Tomar acción en el plano físico" },
            { question: "Antes de enviar Reiki a alguien que no lo pidió, debes...", options: ["Hacerlo sin avisar", "Pedir permiso a su Ser Superior", "Contarle a un amigo"], answer: "Pedir permiso a su Ser Superior" }
        ];
        let currentQuestionIndex = 0;
        let score = 0;

        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }
            const currentQ = questions[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div class="mb-4">
                    <p class="text-lg font-semibold">${currentQ.question}</p>
                </div>
                <div class="space-y-3">
                    ${currentQ.options.map(option => `<button class="quiz-option block w-full text-left p-3 rounded-lg border border-gray-300 hover:bg-gray-100">${option}</button>`).join('')}
                </div>
            `;
            document.querySelectorAll('.quiz-option').forEach(button => {
                button.addEventListener('click', handleAnswer);
            });
        }

        function handleAnswer(e) {
            const selectedOption = e.target;
            const answer = questions[currentQuestionIndex].answer;
            const isCorrect = selectedOption.textContent === answer;
            
            document.querySelectorAll('.quiz-option').forEach(btn => {
                btn.disabled = true;
                if(btn.textContent === answer) {
                    btn.classList.add('bg-green-200', 'border-green-400');
                }
            });

            if (isCorrect) {
                score++;
            } else {
                selectedOption.classList.add('bg-red-200', 'border-red-400');
            }

            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        }

        function showResult() {
            quizContainer.classList.add('hidden');
            quizResult.classList.remove('hidden');
            quizResult.innerHTML = `
                <h3 class="text-2xl font-bold mb-4">¡Juego Terminado!</h3>
                <p class="text-xl">Tu puntuación: ${score} de ${questions.length}</p>
                <button id="restart-quiz" class="mt-6 bg-purple-600 text-white font-bold py-2 px-6 rounded-lg">Jugar de Nuevo</button>
            `;
            document.getElementById('restart-quiz').addEventListener('click', () => {
                currentQuestionIndex = 0;
                score = 0;
                quizContainer.classList.remove('hidden');
                quizResult.classList.add('hidden');
                loadQuestion();
            });
        }

        loadQuestion();
    });
    </script>
</body>
</html>
